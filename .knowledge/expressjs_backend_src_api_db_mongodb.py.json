{"is_source_file": true, "format": "Python", "description": "This file implements a MongoDB integration layer for a Python application, providing a class to manage the client and database, as well as utility functions for initialization, cleanup, and access of the database connection.", "external_files": ["motor.motor_asyncio"], "external_methods": ["os.getenv", "AsyncIOMotorClient", "AsyncIOMotorDatabase.command"], "published": ["init_mongo", "close_mongo", "get_mongo_db"], "classes": [{"name": "MongoClientManager", "description": "A class managing the lifecycle of a MongoDB client and database connection, including configuration from environment variables, connection health checks, and cleanup."}], "methods": [{"name": "None __init__(self)", "description": "Initializes the MongoClientManager instance with client and database attributes set to None.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None configure_from_env(self)", "description": "Configures the MongoDB client based on environment variables; if MONGODB_URI is missing, leaves the client unset to allow in-memory operation.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "bool ping(self)", "description": "Asynchronously verifies if the MongoDB database is reachable by sending a ping command; returns True if successful, False otherwise.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "Optional[AsyncIOMotorDatabase] get_db(self)", "description": "Returns the current database handle or None if not configured.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None close(self)", "description": "Closes the MongoDB client connection if it exists, and clears the client and database attributes.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None close_mongo()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[AsyncIOMotorDatabase] get_mongo_db()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None init_mongo()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["os.getenv", "AsyncIOMotorClient", "self._db.command", "self._client.close"], "search-terms": ["MongoClientManager", "configure_from_env", "ping", "motor", "asyncio", "MongoDB"], "state": 2, "file_id": 5, "knowledge_revision": 25, "git_revision": "b5397fbdbc4c834e5d68b0de8057f24a75801198", "revision_history": [{"15": "24b8529fe183a1eac35239794bd6a7e6df0af895"}, {"25": "b5397fbdbc4c834e5d68b0de8057f24a75801198"}], "ctags": [{"_type": "tag", "name": "MongoClientManager", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^class MongoClientManager:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def close(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "close_mongo", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^async def close_mongo() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "configure_from_env", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def configure_from_env(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def get_db(self) -> Optional[AsyncIOMotorDatabase]:$/", "language": "Python", "typeref": "typename:Optional[AsyncIOMotorDatabase]", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "get_mongo_db", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^def get_mongo_db() -> Optional[AsyncIOMotorDatabase]:$/", "language": "Python", "typeref": "typename:Optional[AsyncIOMotorDatabase]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_mongo", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^async def init_mongo() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mongo_manager", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^mongo_manager = MongoClientManager()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ping", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    async def ping(self) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}], "hash": "d4321ec47e73acc2c2ff539345bdcd7b", "format-version": 4, "code-base-name": "expressjs_backend", "filename": "expressjs_backend/src/api/db/mongodb.py", "fields": [{"name": "mongo_manager = MongoClientManager()", "scope": "", "scopeKind": "", "description": "unavailable"}]}