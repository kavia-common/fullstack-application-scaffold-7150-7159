{"is_source_file": true, "format": "Python", "description": "This file provides a MongoDB integration layer for a Python application, managing connection setup based on environment variables, ping functionality to check connectivity, and resource cleanup.", "external_files": ["motor.motor_asyncio"], "external_methods": ["AsyncIOMotorClient", "AsyncIOMotorDatabase"], "published": ["init_mongo", "close_mongo", "get_mongo_db"], "classes": [{"name": "MongoClientManager", "description": "Manages the lifecycle of MongoDB client and database instances, including configuration, connection verification, and cleanup."}], "methods": [{"name": "None __init__(self)", "description": "Initializes the MongoClientManager with no active client or database.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None configure_from_env(self)", "description": "Configures the MongoDB client and database based on environment variables, with fallback to in-memory operation if not set.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "bool ping(self)", "description": "Checks if the MongoDB server is reachable by sending a ping command.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "Optional[AsyncIOMotorDatabase] get_db(self)", "description": "Returns the current database handle or None if not configured.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None close(self)", "description": "Closes the MongoDB client connection if it exists.", "scope": "MongoClientManager", "scopeKind": "class"}, {"name": "None close_mongo()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[AsyncIOMotorDatabase] get_mongo_db()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None init_mongo()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["os.getenv", "AsyncIOMotorClient", "_client.close", "_db.command"], "search-terms": ["MongoDB connection management", "MONGODB_URI environment variable", "AsyncIOMotorClient", "MongoDB ping check", "MongoDB fallback in-memory"], "state": 2, "file_id": 5, "knowledge_revision": 15, "git_revision": "24b8529fe183a1eac35239794bd6a7e6df0af895", "ctags": [{"_type": "tag", "name": "MongoClientManager", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^class MongoClientManager:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def close(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "close_mongo", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^async def close_mongo() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "configure_from_env", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def configure_from_env(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    def get_db(self) -> Optional[AsyncIOMotorDatabase]:$/", "language": "Python", "typeref": "typename:Optional[AsyncIOMotorDatabase]", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}, {"_type": "tag", "name": "get_mongo_db", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^def get_mongo_db() -> Optional[AsyncIOMotorDatabase]:$/", "language": "Python", "typeref": "typename:Optional[AsyncIOMotorDatabase]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_mongo", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^async def init_mongo() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mongo_manager", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^mongo_manager = MongoClientManager()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ping", "path": "/home/kavia/workspace/code-generation/fullstack-application-scaffold-7150-7159/expressjs_backend/src/api/db/mongodb.py", "pattern": "/^    async def ping(self) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self)", "scope": "MongoClientManager", "scopeKind": "class"}], "hash": "7129a90bee21b5d7f1560e2ce7436515", "format-version": 4, "code-base-name": "expressjs_backend", "filename": "expressjs_backend/src/api/db/mongodb.py", "fields": [{"name": "mongo_manager = MongoClientManager()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"15": "24b8529fe183a1eac35239794bd6a7e6df0af895"}]}